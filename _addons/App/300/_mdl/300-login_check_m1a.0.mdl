#!/usr/bin/perl
# USE UTF-8 !!!
package Tomahawk::module;
use open ':utf8', ':std';
use encoding 'utf8';
use utf8;
$authors="nemsak\@webcom.sk";
use strict;

=head1 NAME
login_info

=head1 HEAD_VERSION_BUILD
1.060104

=head1 DESCRIPTION
zobrazenie informacie o statuse usera

=head1 CHANGES
2006-01-04 - deb00t
	- first make
=cut

sub execute
{
	my %env=@_;
	
	Tomahawk::GetXSGN(-convertvars=>1) || return undef; # load design file
	if (($env{xt_xlng}) || ($env{xlng}))
	{
		main::_log("using xlng transformation");
		if ($env{xlng}) { main::_log("WARNING! using deprecated parameter 'xlng'! please, use 'xt_xlng';"); }
		Tomahawk::GetXLNG() || return undef; # retrieve language xml
		Tomahawk::XLNGtoXSGN(); # implement XLNG into XSGN
	}
	
	if($main::USRM{logged} eq "Y")
	{
		$XSGN{'TMP'} = $XSGN{'TMP_logged'};
	}
	else
	{
		main::_log("user is not logged in",1);
		$XSGN{'TMP'} = $XSGN{'TMP_unlogged'};
		$main::action="stop";
	}
	
	return 1;
}

1;